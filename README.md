# Решение от команды NovaTeam
Решение включает в себя три скрипта:
* Подготовка данных.
* Группировка данных в разбивке на предприятия, судов, рыб с последующей нормализацией, уменьшением размерности с помощью PCA и поискам аномалий с помощью DBSCAN.
* Выделение из каждого датасета временного ряда в разбивке на предприятия, судов, рыб. Создание предсказания за счёт SARIMA выделение аномалий, выходящих за предсказание.

### Инструкция
На тестовой среде скрипты интегрированы в NiFi, результаты поисков аномалий заносится в БД, SuperSet получает данные и визуализирует их на дашборде.
```
git clone https://github.com/NovatekTeam/FishResearch.git
cd FishResearch
docker-compose up -в
sh start.sh
```

В случае локального использования скриптов необходимо выложить данные в папку `dataset` и выполнить скрипты:
```
cd script
python3 run_dbscan.py
python3 run_sarima.py
```
Результаты обработки появятся в папке `output`

### Структура проекта
```
├── dataset                   <- Складывать датасеты сюда
├── output                    <- Результаты поиска аномалий
├── reports                   <- Отчёты, исследования по теме
├── script                    <- Исполнительные скрипты для обработки данных
├── ├── prepare_data.py       <- Препроцессинг данных
│   ├── run_dbscan.py         <- Формирование отчётов после выявления аномалий с помощью DBSCAN
│   └── run_sarima.py         <- Формирование временного ряда с аномальными датами с помощью SARIMA
├── docker-compose.yml        <- Конфигурации контейнеров для поднятия инфраструктуры (PostgreSQL, SuperSet, NiFi)
└── start.sh                  <- Скрипт для создания пользователя в SuperSet
```
